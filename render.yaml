services:
  - type: web
    name: collaborative-project-tracker
    env: node
    plan: free
    region: singapore
    branch: master
    autoDeploy: true
    buildCommand: npm install
    startCommand: npm start
    healthCheckPath: /api/v1/healthCheck
    envVars:
      # Service Configuration
      - key: SERVICE_NAME
        value: "TESTING"
      - key: NODE_ENV
        value: "production"
      - key: PORT
        value: "3001"
      - key: ID
        value: "1"
      
      # Redis Configuration
      - key: BROKER_REDIS_NAME
        value: "project-tracker"
      - key: BROKER_REDIS_HOST_URL
        value: "localhost"
      - key: BROKER_REDIS_PORT
        value: "6379"
      - key: BROKER_REDIS_PASSWORD
        value: "NONE"
      - key: BROKER_REDIS_PUBLISHER
        value: "0"
      - key: BROKER_REDIS_SUBSCRIBER
        value: "0"
      - key: BROKER_REDIS_CACHE
        value: "1"
      - key: BROKER_REDIS_SUB_TOPICS
        value: "NONE"
      
      # Non-sensitive Configuration
      - key: LOG_DB_NAME
        value: "ANKUSH"
      - key: ENCRYPTION_METHOD
        value: "AES-256-CBC"
      - key: JWT_EXPIRY_DAYS
        value: "7"
      
      # SECRETS SECTION - These require setup in Render Dashboard
      # - key: LOG_DB_URI
      #   fromSecret: LOG_DB_URI
      # - key: DB_URL
      #   fromSecret: DB_URL
      # - key: ENCRYPTION_SECRET_KEY
      #   fromSecret: ENCRYPTION_SECRET_KEY
      # - key: JWT_SECRET
      #   fromSecret: JWT_SECRET
    secrets:
      - LOG_DB_URI
      - DB_URL
      - ENCRYPTION_SECRET_KEY
      - JWT_SECRET